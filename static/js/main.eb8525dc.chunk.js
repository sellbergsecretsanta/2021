(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},23:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(20),c=n.n(i),l=n(1),o=n(2),r=n(4),p=n(3),u=n(5),m=(n(18),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedClass===this.props.wowClass.id?"icon inline selected":"icon inline",onClick:function(){return e.props.handleSelectClass(e.props.wowClass)},style:{backgroundImage:"url("+this.props.wowClass.img+")"}})}}]),t}(a.a.Component)),d=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes.map(function(t){return a.a.createElement(m,{key:t.id,wowClass:t,handleSelectClass:e.props.handleSelectClass,selectedClass:e.props.selectedClass})});return a.a.createElement("div",null,t)}}]),t}(a.a.Component),h=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedSpec===this.props.spec.id?"icon medium inline selected":"icon medium inline",onClick:function(){return e.props.handleSelectSpec(e.props.spec)},style:{backgroundImage:"url("+this.props.spec.img+")"}})}}]),t}(a.a.Component),f=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.specs.map(function(t){return a.a.createElement(h,{key:t.id,spec:t,handleSelectSpec:e.props.handleSelectSpec,selectedSpec:e.props.selectedSpec})});return a.a.createElement("div",{className:"menu"},t)}}]),t}(a.a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:this.props.selectedItem===this.props.item.itemId?"icon inline selected":this.props.item.stage1?"icon inline":"icon inline unavailable",onClick:function(){return e.props.handleSelectItem(e.props.item)},style:{backgroundImage:"url(https://classicdb.ch/images/icons/large/"+this.props.item.icon+".jpg)"}})}}]),t}(a.a.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"icon inline",style:{backgroundImage:"url("+this.props.slot.img+")"}}),this.props.items.map(function(t){return a.a.createElement(b,{key:t.id,item:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})}))}}]),t}(a.a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.slots.map(function(t){return e.props.items.find(function(e){return e.id===t.id})&&a.a.createElement("div",{key:t.id},a.a.createElement(v,{slot:t,items:e.props.items.find(function(e){return e.id===t.id}).items,handleSelectItem:e.props.handleSelectItem,selectedItem:e.props.selectedItem}))});return a.a.createElement("div",{className:"itemColumn"},t)}}]),t}(a.a.Component),S=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[],t=[];return this.props.slots.map(function(n){return n.id<9?e.push(n):t.push(n)}),a.a.createElement("div",{className:"flexBox"},a.a.createElement(j,{slots:e,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}),a.a.createElement("div",{className:"separator"}),a.a.createElement(j,{slots:t,items:this.props.items,selectedItem:this.props.selectedItem,handleSelectItem:this.props.handleSelectItem}))}}]),t}(a.a.Component),I=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip sticky",dangerouslySetInnerHTML:{__html:this.props.tooltip}})}}]),t}(s.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip"},a.a.createElement("table",{className:"shrink"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"info"},this.props.info.location?this.props.info.location:null,this.props.info.instance?this.props.info.instance+" - "+this.props.info.boss:null,a.a.createElement("br",null),this.props.info.dropRate?this.props.info.dropRate:null),a.a.createElement("th",{style:{backgroundPosition:"right top"}})),a.a.createElement("tr",null,a.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),a.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(s.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltip"},a.a.createElement("table",{className:"shrink"},a.a.createElement("tbody",null,a.a.createElement("tr",null,a.a.createElement("td",{className:"info"},"Loading..."),a.a.createElement("th",{style:{backgroundPosition:"right top"}})),a.a.createElement("tr",null,a.a.createElement("th",{style:{backgroundPosition:"left bottom"}}),a.a.createElement("th",{style:{backgroundPosition:"right bottom"}})))))}}]),t}(s.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"tooltipWrapper"},a.a.createElement(I,{tooltip:this.props.tooltip}),this.props.info?a.a.createElement(g,{info:this.props.info}):null,this.props.isLoading?a.a.createElement(O,null):null)}}]),t}(s.Component),y=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(p.a)(t).call(this,e))).handleSelectClass=function(e){n.resetState(),n.setState({selectedClass:e.id}),n.getSpecs(e.specs)},n.handleSelectSpec=function(e){n.resetState(),n.setState({selectedSpec:e.id}),n.getItems()},n.handleSelectItem=function(e){n.setState({selectedItem:e.itemId}),n.getItem(e)},n.state={classes:[],specs:[],slots:[],items:[],leftSlotIcons:[],rightSlotIcons:[],activeTooltip:"",activeInfo:"",selectedClass:"",selectedSpec:"",selectedItem:"",loading:!1},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getClass(),this.getSlots()}},{key:"resetState",value:function(){this.setState({items:[],activeTooltip:"",activeInfo:"",selectedSpec:"",selectedItem:""})}},{key:"getClass",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[];for(var s in t)n.push(t[s]);e.setState({classes:n})})}},{key:"getSpecs",value:function(e){this.setState({specs:e}),1===e.length&&(this.setState({selectedSpec:e[0].id}),this.getItems())}},{key:"getSlots",value:function(){var e=this;fetch("./slots.json").then(function(e){return e.json()}).then(function(t){e.setState({slots:t})})}},{key:"getItems",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=t.find(function(t){return t.id===e.state.selectedClass}).specs.find(function(t){return t.id===e.state.selectedSpec}),s=[];for(var a in n.slots)s.push(n.slots[a]);e.setState({items:s})})}},{key:"toggleLoading",value:function(e){this.setState({loading:e,activeTooltip:"",activeInfo:""})}},{key:"getItem",value:function(e){this.setState({activeTooltip:e.tooltip,activeInfo:e})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,{classes:this.state.classes,selectedClass:this.state.selectedClass,handleSelectClass:this.handleSelectClass}),a.a.createElement(f,{specs:this.state.specs,selectedSpec:this.state.selectedSpec,handleSelectSpec:this.handleSelectSpec}),a.a.createElement("div",{className:"flexBox"},a.a.createElement(S,{slots:this.state.slots,items:this.state.items,selectedItem:this.state.selectedItem,handleSelectItem:this.handleSelectItem}),a.a.createElement("div",{className:"separator"}),a.a.createElement(E,{tooltip:this.state.activeTooltip,info:this.state.activeInfo,isLoading:this.state.loading}),a.a.createElement("div",{className:"separator"})))}}]),t}(a.a.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"cursor",onClick:function(){return e.props.handleSelectItem(e.props.item)}},this.props.item.specIcon&&a.a.createElement("div",{className:"icon medium inline",style:{backgroundImage:"url("+this.props.item.specIcon+")"}}),this.props.item.craftIcon&&a.a.createElement("div",{className:"icon medium inline qe3",style:{backgroundImage:"url(https://classicdb.ch/images/icons/medium/trade_"+this.props.item.craftIcon+".jpg)"}}),a.a.createElement("div",{className:this.props.selectedItem===this.props.item.itemId?"icon medium inline selected":this.props.item.stage1?"icon medium inline":"icon medium inline unavailable",style:{backgroundImage:"url(https://classicdb.ch/images/icons/medium/"+this.props.item.icon+".jpg)"}}),a.a.createElement("div",{className:"inline",style:{verticalAlign:"top"}},a.a.createElement("div",{className:"q"+this.props.item.quality},this.props.item.itemName),a.a.createElement("div",null,this.props.item.dropRate)))}}]),t}(a.a.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.boss.items.map(function(t){return a.a.createElement(k,{key:t.itemId,item:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})});return a.a.createElement("div",{style:{paddingLeft:"20px"}},a.a.createElement("h4",null,this.props.boss.name),t)}}]),t}(a.a.Component),N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(p.a)(t).call(this,e))).state={visible:!1},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){this.setState({visible:!e})}},{key:"render",value:function(){var e=this,t=this.props.instance.bosses.map(function(t){return a.a.createElement(C,{key:t.id,boss:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})});return this.props.instance.nrOfDrops>0&&a.a.createElement("div",null,a.a.createElement("h3",{className:"cursor",onClick:function(){return e.handleClick(e.state.visible)}},this.props.instance.name,a.a.createElement("div",{className:"icon small inline",style:{backgroundImage:"url(https://classicdb.ch/images/icons/small/inv_misc_bag_10.jpg)"}}),this.props.instance.nrOfDrops),this.state.visible&&t)}}]),t}(a.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.instances.map(function(t){return a.a.createElement(N,{key:t.id,instance:t,selectedItem:e.props.selectedItem,handleSelectItem:e.props.handleSelectItem})});return a.a.createElement("div",null,t)}}]),t}(a.a.Component),x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(r.a)(this,Object(p.a)(t).call(this,e))).handleSelectClass=function(e){n.resetState(),n.setState({selectedClass:e.id}),n.getSpecs(e.specs)},n.handleSelectSpec=function(e){n.resetState(),n.setState({selectedSpec:e.id}),n.getInstanceLoot()},n.handleSelectItem=function(e){n.setState({selectedItem:e.itemId}),n.getItem(e)},n.state={classes:[],specs:[],instances:[],activeTooltip:"",activeInfo:"",selectedClass:"",selectedSpec:"",selectedItem:"",loading:!1},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getClass()}},{key:"resetState",value:function(){this.setState({instances:[],activeTooltip:"",selectedSpec:"",selectedItem:""})}},{key:"getClass",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[];for(var s in t)n.push(t[s]);e.setState({classes:n})})}},{key:"getSpecs",value:function(e){this.setState({specs:e}),1===e.length&&(this.setState({selectedSpec:e[0].id}),this.getInstanceLoot())}},{key:"findClass",value:function(e){return function(t){return t.id===e}}},{key:"findSpec",value:function(e){return function(t){return t.id===e}}},{key:"getInstanceLoot",value:function(){var e=this;fetch("./data.json").then(function(e){return e.json()}).then(function(t){var n=[],s=t.find(function(t){return t.id===e.state.selectedClass}).specs.find(function(t){return t.id===e.state.selectedSpec});for(var a in s.slots)for(var i in s.slots[a].items){var c=s.slots[a].items[i],l={bossId:c.bossId,itemId:c.itemId,itemName:c.itemName,dropRate:c.dropRate,quality:c.quality,icon:c.icon,tooltip:c.tooltip,stage1:c.stage1};if(!c.bossId){var o=c.source,r="";["blacksmithing","engineering","leatherworking","tailoring"].includes(c.source)&&(o="craft",r=c.source),l.bossId=o,l.craftIcon=r,l.dropRate=c.instance?c.instance+": "+c.boss+" - "+c.dropRate:c.location}n.push(l)}fetch("./instances.json").then(function(e){return e.json()}).then(function(t){t.forEach(function(e){return e.bosses.slice().reverse().forEach(function(t,s,a){n.find(function(e){return e.bossId===t.id})?t.items=n.filter(function(e){return e.bossId===t.id}):e.bosses.splice(a.length-1-s,1),e.nrOfDrops+=t.items.length})}),e.setState({instances:t})})})}},{key:"getItem",value:function(e){this.setState({activeTooltip:e.tooltip,activeInfo:e})}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,{classes:this.state.classes,selectedClass:this.state.selectedClass,handleSelectClass:this.handleSelectClass}),a.a.createElement(f,{specs:this.state.specs,selectedSpec:this.state.selectedSpec,handleSelectSpec:this.handleSelectSpec}),a.a.createElement("div",{className:"flexBox"},a.a.createElement(w,{instances:this.state.instances,selectedItem:this.state.selectedItem,handleSelectItem:this.handleSelectItem}),a.a.createElement("div",{className:"separator"}),a.a.createElement(E,{tooltip:this.state.activeTooltip,icon:this.state.activeInfo.icon,isLoading:this.state.loading}),a.a.createElement("div",{className:"separator"})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(12),T=n(10),R=a.a.createElement(L.a,{basename:"/react-gh-pages"},a.a.createElement("div",null,a.a.createElement("nav",null,a.a.createElement(L.b,{activeClassName:"active",exact:!0,to:"/"},"Slots"),a.a.createElement(L.b,{activeClassName:"active",to:"/loot"},"Instances")),a.a.createElement(T.a,{exact:!0,path:"/",component:y}),a.a.createElement(T.a,{path:"/loot",component:x})));c.a.render(R,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.eb8525dc.chunk.js.map